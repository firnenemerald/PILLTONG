# 테스트 가이드

## 새로운 기능 테스트 방법

### 1. 시간 선택 기능 테스트

#### "Once a day" 테스트
1. 약물 리스트에서 "+" 버튼 클릭
2. 약물 이름과 용량 입력
3. 복용 빈도에서 "Once a day" 선택
4. **새로운 기능**: 복용 시간 설정 카드가 나타나는지 확인
5. 기본값 "09:00"이 표시되는지 확인
6. 시간을 터치하여 원하는 시간으로 변경
7. 저장 후 홈 화면에서 설정한 시간이 표시되는지 확인

#### "Twice a day" 테스트
1. 새 약물 추가 화면에서 "Twice a day" 선택
2. **새로운 기능**: 2개의 시간 설정 UI가 나타나는지 확인
3. 기본값 "09:00", "21:00"이 표시되는지 확인
4. 각 시간을 개별적으로 변경 가능한지 확인
5. 저장 후 두 시간 모두 표시되는지 확인

### 2. 알림 기능 테스트

#### 알림 스케줄링 테스트
1. 약물 추가 후 1-2분 후의 시간으로 설정
2. 앱을 백그라운드로 이동
3. 설정한 시간에 알림이 발생하는지 확인
4. 알림 메시지: "💊 복용 시간 알림" / "약물명 복용 시간입니다"

#### 개별 알림 토글 테스트
1. 약물 리스트에서 스위치 확인
2. 스위치를 OFF로 변경
3. 해당 약물의 알림이 취소되는지 확인
4. 다시 ON으로 변경하여 알림 재설정 확인

#### 알림 관리 화면 테스트
1. 설정 탭 > 알림 관리 클릭
2. **새로운 기능**: 알림 설정 화면이 열리는지 확인
3. "모든 알림 다시 설정" 버튼 테스트
4. "모든 알림 취소" 버튼 테스트 (확인 대화상자 포함)

### 3. 데이터 저장 테스트

#### 시간 저장 확인
1. 약물 추가 후 앱 종료
2. 앱 재시작
3. 설정한 시간이 그대로 유지되는지 확인

#### 알림 상태 저장 확인
1. 일부 약물의 알림을 OFF로 설정
2. 앱 재시작
3. 알림 상태가 유지되는지 확인

### 4. 에러 처리 테스트

#### 잘못된 입력 처리
1. 약물 이름 없이 저장 시도 → 오류 메시지 확인
2. 용량 없이 저장 시도 → 오류 메시지 확인
3. Custom times에서 시간 추가 없이 저장 → 오류 메시지 확인

#### 네트워크 오류 처리
1. 인터넷 연결 끊고 약물 추가 시도
2. 적절한 오류 메시지 표시 확인

### 5. UI/UX 개선 확인

#### 홈 화면 개선
1. 홈 화면에서 "다음 복용: X시간 Y분 후" 표시 확인
2. 현재 시간 기준으로 다음 복용 시간이 정확히 계산되는지 확인

#### 약물 리스트 개선
1. 알림 토글 스위치가 정상 작동하는지 확인
2. 삭제 버튼 클릭 시 확인 대화상자 표시 확인
3. 삭제 시 알림도 함께 취소되는지 확인

## 권한 설정 확인 (Android)

### 필수 권한
1. 알림 권한: 설정 > 앱 > PilltongApp > 권한 > 알림 허용
2. 정확한 알람 권한: 특별 액세스 > 정확한 알람 허용 (Android 12+)

### 배터리 최적화 해제
1. 설정 > 배터리 > 배터리 최적화
2. PilltongApp을 "최적화하지 않음"으로 설정

## 예상 문제점 및 해결책

### 알림이 작동하지 않는 경우
- 권한 설정 재확인
- 앱 재시작
- "모든 알림 다시 설정" 실행

### 시간 설정이 저장되지 않는 경우
- 인터넷 연결 확인
- Firebase 연결 상태 확인
- 앱 권한 확인

### 앱 충돌 발생 시
- Flutter doctor 실행
- 종속성 업데이트: `flutter pub get`
- Clean build: `flutter clean && flutter pub get`

## 성능 확인 포인트

1. **앱 시작 시간**: 3초 이내
2. **화면 전환**: 부드러운 애니메이션
3. **데이터 로딩**: 로딩 인디케이터 표시
4. **알림 지연**: 설정 시간으로부터 5초 이내
5. **메모리 사용량**: 안정적인 메모리 관리

## 릴리스 전 체크리스트

- [ ] 모든 기능 테스트 완료
- [ ] 다양한 기기에서 테스트
- [ ] 알림 권한 요청 플로우 확인
- [ ] 오프라인 상태에서 기능 제한 확인
- [ ] 배터리 사용량 최적화 확인
